@inherits Umbraco.Web.Mvc.UmbracoViewPage<vmBlock_DataFormBuilder>

@using Umbraco.Web
@using MRC.Code

@{
    if (Model != null)
    {
        Func<object> login = () =>
        {
            if(Html.ValidationSummary() != null)
            {
                Model.Validation = new vmSub_DataFormBuilderValidation() { Message = Html.ValidationSummary().ToString() };
            }
            return Model;
        };

        using (Html.BeginUmbracoForm<MemberController>("HandleUpdate", FormMethod.Post, new Dictionary<string, object>() { { "novalidate", "" } }))
        {
            @Html.AntiForgeryToken()
            @Html.RenderFETemplate(new RenderSettings() { Template = "parAccountForm", Data = login, ShowJson = false })
        }
    }
}

